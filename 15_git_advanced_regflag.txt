# Git Reflog (Recovery)

What is git reflog?

git reflog shows every movement of HEAD â€” even actions that rewrote or deleted history.

ğŸ‘‰ Unlike git log, reflog never lies (locally).



Why Reflog Exists

Some Git commands rewrite history:

  git reset
  git rebase
  git commit --amend
  git checkout
  git pull --rebase

After these:
âŒ commits may disappear from git log
âœ… but reflog still remembers them


Basic Command   git reflog

Output Example
a1b2c3d HEAD@{0}: commit: fix login bug
e4f5g6h HEAD@{1}: reset: moving to HEAD~1
i7j8k9l HEAD@{2}: commit: add login API


How to Read This
| Part       | Meaning              |
| ---------- | -------------------- |
| `HEAD@{0}` | Current state        |
| `HEAD@{1}` | Previous state       |
| Message    | What action happened |



ğŸ”¥ Most Important Use Case: Recover Lost Commit

Scenario: You ran
  git reset --hard HEAD~1


ğŸ’¥ Commit disappeared

Step 1: Open reflog
git reflog

You see:
  abc1234 HEAD@{1}: commit: important feature


Step 2: Recover it
  Option 1: Checkout (inspect safely)
    git checkout abc1234

  Option 2: Restore branch to that commit
    git reset --hard abc1234
  âœ” Commit is back

  Option 3: Create a new branch (SAFEST)
    git branch recovery abc1234
  ğŸ‘‰ This is production-safe recovery



Recover After Rebase Gone Wrong
  git reflog
  git reset --hard HEAD@{3}


Recover After commit --amend
Even overwritten commits:
  git reflog
  git checkout <old-commit-hash>


Reflog vs Log

| Feature               | git log | git reflog     |
| --------------------- | ------- | -------------- |
| Shows commits         | âœ…       | âœ…              |
| Shows deleted commits | âŒ       | âœ…              |
| Tracks HEAD movement  | âŒ       | âœ…              |
| Shared                | âœ…       | âŒ (local only) |



How Long Reflog Keeps Data?
By default:
  90 days for reachable commits
  30 days for unreachable commits
(Configurable via Git GC)




Important Warnings âš ï¸
âŒ Reflog is local only
Cannot recover commits deleted and pushed to remote by someone else
âŒ Garbage collection removes old reflog entries



Production Best Practices

âœ” Use reflog before panic
âœ” Create recovery branch first
âœ” Never force-push without backup
âœ” Teach team reflog basics




Golden Recovery Pattern ğŸ†
  git reflog
  git branch backup HEAD@{n}


Interview One-liner ğŸ¯

â€œgit reflog tracks all local HEAD movements, allowing recovery of commits lost due to reset, rebase, or amend.â€


